<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>首页</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
      <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
      <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
      <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
      <script>
          $(function(){
            $("#but").click(function(){
                var studentName=$("#studentName").val();
                var studentId=$("#studentId").val();
                var major=$("#major").val();
                var sex=$("#sex").val();
                var grade=$("#grade").val();
                var z_str=/[0-9]{11}/;
                var is_true=studentId.match(z_str);
                if(studentName.length<=0){
                    alert("请输入学生姓名");
                }else if(studentId.length<11){
                    alert("请输入11位的纯数字学号")
                }else if(is_true==null){
                    alert("请输入11位的纯数字学号")
                }else if(major.length<=0){
                    alert("请输入专业")
                }else if(sex!=1&&sex!=0){
                    alert("请选择性别")
                }else if(grade.length<=0){
                    alert("请输入年级")
                }else{
                    var jsonData={
                        "studentName":studentName,
                        "studentId":studentId,
                        "major":major,
                        "sex":sex,
                        "grade":grade
                    }
                    $.ajax({
                        url:"/investStudentInfo",
                        type:"post",
                        data:JSON.stringify(jsonData),
                        contentType:"application/json;charset=UTF-8",
                        success:function(data){
                            if(data.msg=="success"){
                                window.location.href="/successSaveStudentInfo"
                            }
                            if(data.msg=="error"){
                                $("#error").text("输入学生信息有误，请重新输入")
                            }
                        }
                    })
                }
            }
            )
          })
      </script>
  </head>
  <body>
    <h1 style="text-align: center;">校园一卡通管理系统</h1>
    <ul class="nav nav-pills navbar-default">
   <li role="presentation"  >
            <div class="btn-group">
                <button type="button" class="btn "  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    充值订单详情<span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a th:href="@{'/index'}">最近充值订单</a></li>
                    <li><a th:href="@{'/investLog'}">充值详情</a></li>

                </ul>
            </div>
        </li>
  <li role="presentation"  >
            <div class="btn-group">
                <button type="button" class="btn " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    热水卡管理 <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a th:href="@{'/findHotWaterOrder'}">查看热水充值订单</a></li>
                    <li><a th:href="@{'/investHostWater'}" >热水卡充值入口</a></li>
                   
                </ul>
            </div>
        </li>
        <li role="presentation"  >
            <div class="btn-group">
                <button type="button" class="btn " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    饭卡管理 <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a th:href="@{'/findFoodOrder'}" >查看饭卡充值订单</a></li>

                </ul>
            </div>
        </li>
         <li role="presentation"  >
            <div class="btn-group" >
                <button type="button" class="btn btn-success dropdown-toggle"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    学生信息管理 <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a h th:href="@{'/studentManager'}">管理学生信息</a></li>
                    <li><a href="#">录入学生信息</a></li>
                   
                </ul>
            </div>
        </li>
        <li role="presentation" style="float: right;"><a href="userOut">退出</a></li>
        <li role="presentation" style="float: right;"><a th:text="'欢迎你,'+${session.user.adminName}"></a></li>
</ul>
<form class="form-horizontal"  style="margin-top: 100px;margin-left: 400px" >
  <h1 style="margin-left: 300px">学生信息录入</h1>
    <h3 id="msg" style="color: red"></h3>
  <div class="form-group">
    <label for="studentId" class="col-sm-2 control-label">学号</label>
    <div class="col-sm-10" style="width: 400px">
      <input type="email" class="form-control" id="studentId" >
    </div>
  </div>
  <div class="form-group">
    <label for="studentName" class="col-sm-2 control-label">姓名</label>
    <div class="col-sm-10" style="width: 400px">
      <input type="text" class="form-control" id="studentName" >
    </div>
  </div>
    <div class="form-group" >
        <label for="sex" class="col-sm-2 control-label">性别</label>
        <select class="form-control" style="width:383px" id="sex" name="sex" >
            <option value="0">男</option>
            <option value="1">女</option>
        </select>
    </div>
  <div class="form-group">
    <label for="major" class="col-sm-2 control-label">专业</label>
    <div class="col-sm-10" style="width: 400px">
      <input type="text" class="form-control" id="major" >
    </div>
  </div>

   <div class="form-group">
    <label for="grade" class="col-sm-2 control-label">年级</label>
    <div class="col-sm-10" style="width: 400px">
      <input type="text" class="form-control" id="grade" >
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="button" class="btn btn-default" id="but">提交</button>
    </div>
  </div>
</form>
  </body>
</html>